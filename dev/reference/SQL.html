<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>SQL quoting — SQL • DBI</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="SQL quoting — SQL" />
<meta property="og:description" content="This set of classes and generics make it possible to flexibly deal with SQL
escaping needs. By default, any user supplied input to a query should be
escaped using either dbQuoteIdentifier() or dbQuoteString()
depending on whether it refers to a table or variable name, or is a literal
string.
These functions may return an object of the SQL class,
which tells DBI functions that a character string does not need to be escaped
anymore, to prevent double escaping.
The SQL class has associated the SQL() constructor function." />
<meta name="twitter:card" content="summary" />


<meta name="robots" content="noindex">

<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">DBI</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">1.0.0.9003</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/DBI.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/DBI-1.html">A Common Database Interface (DBI)</a>
    </li>
    <li>
      <a href="../articles/DBI-history.html">History of DBI</a>
    </li>
    <li>
      <a href="../articles/DBI-proposal.html">A Common Interface to Relational Databases from R and S -- A Proposal</a>
    </li>
    <li>
      <a href="../articles/backend.html">Implementing a new backend</a>
    </li>
    <li>
      <a href="../articles/spec.html">DBI specification</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>SQL quoting</h1>
    
    <div class="hidden name"><code>SQL.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This set of classes and generics make it possible to flexibly deal with SQL
escaping needs. By default, any user supplied input to a query should be
escaped using either <code><a href='dbQuoteIdentifier.html'>dbQuoteIdentifier()</a></code> or <code><a href='dbQuoteString.html'>dbQuoteString()</a></code>
depending on whether it refers to a table or variable name, or is a literal
string.
These functions may return an object of the <code>SQL</code> class,
which tells DBI functions that a character string does not need to be escaped
anymore, to prevent double escaping.
The <code>SQL</code> class has associated the <code>SQL()</code> constructor function.</p>
    </div>

    <pre class="usage"><span class='fu'>SQL</span>(<span class='no'>x</span>, <span class='no'>...</span>, <span class='kw'>names</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>A character vector to label as being escaped SQL.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Other arguments passed on to methods. Not otherwise used.</p></td>
    </tr>
    <tr>
      <th>names</th>
      <td><p>Names for the returned object, must have the same length as <code>x</code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An object of class <code>SQL</code>.</p>
    <h2 class="hasAnchor" id="implementation-notes"><a class="anchor" href="#implementation-notes"></a>Implementation notes</h2>

    


<p>DBI provides default generics for SQL-92 compatible quoting. If the database
uses a different convention, you will need to provide your own methods.
Note that because of the way that S4 dispatch finds methods and because
SQL inherits from character, if you implement (e.g.) a method for
<code><a href='dbQuoteString.html'>dbQuoteString(MyConnection, character)</a></code>, you will also need to
implement <code><a href='dbQuoteString.html'>dbQuoteString(MyConnection, SQL)</a></code> - this should simply
return <code>x</code> unchanged.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='dbQuoteIdentifier.html'>dbQuoteIdentifier</a></span>(<span class='fu'><a href='ANSI.html'>ANSI</a></span>(), <span class='st'>"SELECT"</span>)</div><div class='output co'>#&gt; &lt;SQL&gt; "SELECT"</div><div class='input'><span class='fu'><a href='dbQuoteString.html'>dbQuoteString</a></span>(<span class='fu'><a href='ANSI.html'>ANSI</a></span>(), <span class='st'>"SELECT"</span>)</div><div class='output co'>#&gt; &lt;SQL&gt; 'SELECT'</div><div class='input'>
<span class='co'># SQL vectors are always passed through as is</span>
<span class='no'>var_name</span> <span class='kw'>&lt;-</span> <span class='fu'>SQL</span>(<span class='st'>"SELECT"</span>)
<span class='no'>var_name</span></div><div class='output co'>#&gt; &lt;SQL&gt; SELECT</div><div class='input'>
<span class='fu'><a href='dbQuoteIdentifier.html'>dbQuoteIdentifier</a></span>(<span class='fu'><a href='ANSI.html'>ANSI</a></span>(), <span class='no'>var_name</span>)</div><div class='output co'>#&gt; &lt;SQL&gt; SELECT</div><div class='input'><span class='fu'><a href='dbQuoteString.html'>dbQuoteString</a></span>(<span class='fu'><a href='ANSI.html'>ANSI</a></span>(), <span class='no'>var_name</span>)</div><div class='output co'>#&gt; &lt;SQL&gt; SELECT</div><div class='input'>
<span class='co'># This mechanism is used to prevent double escaping</span>
<span class='fu'><a href='dbQuoteString.html'>dbQuoteString</a></span>(<span class='fu'><a href='ANSI.html'>ANSI</a></span>(), <span class='fu'><a href='dbQuoteString.html'>dbQuoteString</a></span>(<span class='fu'><a href='ANSI.html'>ANSI</a></span>(), <span class='st'>"SELECT"</span>))</div><div class='output co'>#&gt; &lt;SQL&gt; 'SELECT'</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#implementation-notes">Implementation notes</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by R Special Interest Group on Databases (R-SIG-DB), <a href='http://hadley.nz'>Hadley Wickham</a>, <a href='http://krlmlr.info'>Kirill Müller</a>, <a href='https://www.r-consortium.org'>R Consortium</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


